#!/bin/bash

# The following environment variables need to be set
# INTERMINE: location of local InterMine installation

cd $INTERMINE

CP=$CLASSPATH

for i in $INTERMINE/lib/*.jar ; do
    CP=$CP:$i
done

for i in $INTERMINE/dist/*.jar ; do
    CP=$CP:$i
done

CP=$CP:.

if test -z "$LD_LIBRARY_PATH" ; then
    export LD_LIBRARY_PATH=/usr/lib:/lib:/usr/lib/jni
else
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib:/lib:/usr/lib/jni
fi

#echo "Using classpath: $CP"
#echo "Using LD_LIBRARY_PATH: $LD_LIBRARY_PATH"
#echo "Calling java -cp $CP org.intermine.sql.query.Query \"$1\""

java -cp $CP org.intermine.sql.query.Query "$1"


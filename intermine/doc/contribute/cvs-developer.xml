<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
  <articleinfo>
    <date>2003-1-8</date>

    <title>Obtaining write access to InterMine source code</title>
  </articleinfo>

  <section>
    <title>Introduction</title>

    <para>This document details how active developers can obtain InterMine
    source code from the main CVS server.</para>
  </section>

  <section>
    <title>Instructions</title>

    <itemizedlist>
      <listitem>
        <para><emphasis>From inside intermine.org domain</emphasis></para>

        <itemizedlist>
          <listitem>
            <para><command>cd</command> to the directory into which you intend
            to check out the source.</para>
          </listitem>

          <listitem>
            <para>Issue the command <command>cvs -d
            :ext:cvs-internal.flymine.org/cvs co intermine</command>.</para>
          </listitem>

          <listitem>
            <para><command>cd intermine</command>.</para>
          </listitem>

          <listitem>
            <para><command>ant -projecthelp</command> gives a list of all the
            possible build targets.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para><emphasis>From outside intermine.org domain</emphasis></para>

        <para>The InterMine main CVS server is on a machine inside the
        firewall and does not have an external IP address. However, a port on
        the firewall is set up to forward ssh packets to the cvs server. You
        will require ssh access to the Intermine system in order to use this
        machine.</para>

        <itemizedlist>
          <listitem>
            <para>Create a wrapper script as follows:</para>

            <programlisting>#!/bin/sh

HOST=$1

if [ "$HOST" == "cvs-internal.flymine.org" ]
then
   shift
   ssh -p 22091 flywall.flymine.org $*
else
   ssh $*
fi
</programlisting>
          </listitem>

          <listitem>
            <para>Issue the command <command>export
            CVS_RSH=/path/to/wrapper/script</command>. Put this in your
            <filename>.profile</filename>.</para>
          </listitem>

          <listitem>
            <para>Continue as above</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

    <para>Once you have checked out the source from the CVS server, the
    command <command>cvs update</command> will obtain any updates to the code
    made by the development team. You should issue this command
    regularly.</para>
  </section>
</article>